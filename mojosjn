#!/usr/bin/env perl

use lib 'lib';
use Mojolicious::Lite;
use Buzzwords::Indie;
use Text::Markdown 'markdown';

get '/' => sub {
    my $self = shift;
    $self->render;
} => 'index';

get '/about' => sub {
    my $self = shift;
    $self->render;
} => 'about';

get '/get_content' => sub {
    my $self = shift;
    my $content = Buzzwords::Indie->new();
    my $buzzwords = markdown ( $content->generate_content() );
    $self->render_json(
        {
            html => $buzzwords
        }
    );
} => 'get_content';
            

helper buzzwords => sub {
    my $content = Buzzwords::Indie->new();
    return markdown( $content->generate_content());
};

app->start;

__DATA__
